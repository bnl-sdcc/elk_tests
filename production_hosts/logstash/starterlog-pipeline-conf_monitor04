# /etc/logstash/conf.d


input { 
    beats { 
        codec => json 
        port => 5555
        ssl => true 
        ssl_certificate => "/etc/logstash/certs/lumberjack.cert" 
        ssl_key => "/etc/logstash/certs/lumberjack.key"
    }
}


filter {
    mutate {
        #remove_field => [ "@timestamp", "@version", "tags" ]
        remove_field => [ "@version", "tags" ]
    }
}


output {
    elasticsearch {
        hosts => [ "************************:9210" ]
        index => "starterlog-%{+YYYY.MM.dd}"
        document_id => "%{executionhost}_%{jobid}"
        action => "update"
        doc_as_upsert => true
    } 
}

